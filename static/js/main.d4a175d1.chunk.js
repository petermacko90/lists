(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(41)},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(15),r=n.n(o),s=n(6),c=n(9),l=n(18),u=n(19),d=n(1),m={lists:[],currentList:null,newListTitle:""},p={items:[],currentItems:[],newItemName:""},f=Object(c.c)({listsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_LISTS":return Object(d.a)({},e,{lists:t.payload});case"SET_CURRENT_LIST":return Object(d.a)({},e,{currentList:t.payload});case"SET_LIST_DATE":var n=e.lists.map(function(e){return e.id===t.payload.listId?Object(d.a)({},e,e.modified=t.payload.modified):e});return Object(d.a)({},e,{lists:n});case"DELETE_LIST":return Object(d.a)({},e,{lists:e.lists.filter(function(e){return e.id!==t.payload}),currentList:null});case"ADD_LIST_WITH_ID":var i={id:t.payload.nextId,title:t.payload.title,modified:t.payload.modified};return Object(d.a)({},e,{lists:e.lists.concat(i),currentList:i,newListTitle:""});case"SET_NEW_LIST_TITLE":return Object(d.a)({},e,{newListTitle:t.payload});default:return e}},itemsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_ITEMS":return Object(d.a)({},e,{items:t.payload});case"SET_CURRENT_ITEMS":return Object(d.a)({},e,{currentItems:e.items.filter(function(e){return e.list_id===t.payload})});case"DELETE_ITEM":return Object(d.a)({},e,{items:e.items.filter(function(e){return e.id!==t.payload}),currentItems:e.currentItems.filter(function(e){return e.id!==t.payload})});case"TOGGLE_ITEM":var n=e.items.map(function(e){return e.id!==t.payload.itemId?e:Object(d.a)({},e,e.checked=!t.payload.checked)}),i=e.currentItems.map(function(e){return e.id!==t.payload.itemId?e:Object(d.a)({},e,e.checked=!t.payload.checked)});return Object(d.a)({},e,{currentItems:i,items:n});case"ADD_ITEM_WITH_ID":var a={list_id:t.payload.listId,id:t.payload.nextId,name:t.payload.name,checked:!1};return Object(d.a)({},e,{items:e.items.concat(a),currentItems:e.currentItems.concat(a),newItemName:""});case"SET_NEW_ITEM_NAME":return Object(d.a)({},e,{newItemName:t.payload});case"ADD_LIST_WITH_ID":return Object(d.a)({},e,{currentItems:[]});default:return e}}}),h=Object(c.d)(f,Object(c.a)(function(e){return function(t){return function(n){if("ADD_ITEM"===n.type){var i=e.getState().itemsReducer.items.reduce(function(e,t){return e.id>t.id?e.id:t.id});e.dispatch({type:"ADD_ITEM_WITH_ID",payload:{listId:n.payload.listId,name:n.payload.name,nextId:i+1}})}if("ADD_LIST"===n.type){var a=e.getState().listsReducer.lists.reduce(function(e,t){return e.id>t.id?e.id:t.id});e.dispatch({type:"ADD_LIST_WITH_ID",payload:{title:n.payload.title,nextId:a+1,modified:n.payload.modified}})}t(n)}}},u.a,l.logger)),I=(n(29),n(3)),y=n(4),E=n(7),w=n(5),T=n(8),b=function(e){return!e.replace(/\s+/g,"")},L=(n(31),function(e){function t(){var e;return Object(I.a)(this,t),(e=Object(E.a)(this,Object(w.a)(t).call(this))).onWindowResize=function(){window.innerWidth>=480?e.setState({showToggleButton:!1,showNavigationItems:!0}):e.setState({showToggleButton:!0})},e.toggleNavigation=function(){e.setState({showNavigationItems:!e.state.showNavigationItems})},e.onClickAddList=function(t){return function(n){e.handleAddList(t)}},e.onKeyPressAddList=function(t){return function(n){"Enter"===n.key&&e.handleAddList(t)}},e.handleAddList=function(t){if(e.state.showInput){if(b(t))return void e.setState({showInput:!1});e.props.onAddList(t),e.setState({showInput:!1})}else e.setState({showInput:!0})},e.addListInput=a.a.createRef(),e.state={showToggleButton:!0,showNavigationItems:!1,showInput:!1},e}return Object(T.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",g(this.onWindowResize,250)),this.onWindowResize()}},{key:"componentDidUpdate",value:function(){this.state.showInput&&this.state.showNavigationItems&&this.addListInput.current.focus()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",g(this.onWindowResize,250))}},{key:"render",value:function(){var e=this.props,t=e.newListTitle,n=e.onSetNewListTitle;return a.a.createElement("nav",{className:"flex bg-yellow shadow-2 mb2 navbar"},a.a.createElement("h1",{className:"f2 pa3 mv0 menu-item"},"Lists"),this.state.showNavigationItems&&a.a.createElement("div",{className:"menu-item mh2 mh0-ns"},a.a.createElement("button",{type:"button",onClick:this.onClickAddList(t),className:"white b--none ph3 ph4-ns pv3 b pointer bg-green hover-bg-dark-green mv3 add-list-button"},"Add list"),this.state.showInput&&a.a.createElement("input",{type:"text",value:t,onChange:n,onKeyPress:this.onKeyPressAddList(t),placeholder:"List title",className:"pa3 b--none mv3 add-list-input",ref:this.addListInput})),this.state.showToggleButton&&a.a.createElement("button",{type:"button",onClick:this.toggleNavigation,className:"b--none pa3 ma3 pointer absolute right-0 toggle"},a.a.createElement("span",{className:"bar"}),a.a.createElement("span",{className:"bar"}),a.a.createElement("span",{className:"bar"})))}}]),t}(i.Component)),v=Object(s.b)(function(e){return{newListTitle:e.listsReducer.newListTitle}},function(e){return{onAddList:function(t){return e(function(e){return{type:"ADD_LIST",payload:{title:e,modified:new Date}}}(t))},onSetNewListTitle:function(t){return e({type:"SET_NEW_LIST_TITLE",payload:t.target.value})}}})(L);function g(e,t,n){var i;return function(){var a=this,o=arguments,r=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(a,o)},t),r&&e.apply(a,o)}}n(33);var k=function(e){var t=e.list,n=e.items,i=e.onClickList,o=e.onEnterList;return a.a.createElement("div",{className:"pa2 ma2 mt1 bg-yellow pointer shadow-3 noselect list",tabIndex:"0",onClick:i(t,t.id),onKeyPress:o(t,t.id)},a.a.createElement("h3",{className:"f3-l f4-m f5 truncate"},t.title),a.a.createElement("p",null,t.modified.toLocaleDateString()),a.a.createElement("p",{className:"list-items truncate"},n.slice(0,5).map(function(e){return a.a.createElement("span",{key:e.id},"- ",e.name," ")})))},_=(n(35),function(e){function t(){var e,n;Object(I.a)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).onClickList=function(e,t){return function(i){n.handleSelectList(e,t)}},n.onEnterList=function(e,t){return function(i){"Enter"===i.key&&n.handleSelectList(e,t)}},n.handleSelectList=function(e,t){n.props.onSetCurrentList(e),n.props.onSetCurrentItems(t),n.props.scrollToCurrentList()},n}return Object(T.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.onRequestLists(),this.props.onRequestItems()}},{key:"render",value:function(){var e=this,t=this.props,n=t.lists,i=t.items,o=[],r=[];return n.forEach(function(t){i.forEach(function(e){t.id===e.list_id&&(r=r.concat(e))}),o=o.concat(a.a.createElement(k,{key:t.id,list:t,items:r,onClickList:e.onClickList,onEnterList:e.onEnterList})),r=[]}),a.a.createElement("div",{className:"fl w-25-l w-third-m w-100 lists"},o.length>0?o:a.a.createElement("p",{className:"message"},"No lists found"))}}]),t}(i.Component)),N=Object(s.b)(function(e){return{lists:e.listsReducer.lists,items:e.itemsReducer.items}},function(e){return{onRequestLists:function(){return e(function(e){e({type:"FETCH_LISTS",payload:[{id:1,title:"Food",modified:new Date("2018-08-20")},{id:2,title:"Presents",modified:new Date("2017-12-01")},{id:3,title:"Other",modified:new Date("2018-11-02")}]})})},onRequestItems:function(){return e(function(e){e({type:"FETCH_ITEMS",payload:[{list_id:1,id:1,name:"Bread",checked:!1},{list_id:1,id:2,name:"Sunflower seeds",checked:!0},{list_id:1,id:3,name:"Apples",checked:!1},{list_id:2,id:4,name:"Gaming PC",checked:!0},{list_id:2,id:5,name:"PC games",checked:!0}]})})},onSetCurrentList:function(t){return e(function(e){return{type:"SET_CURRENT_LIST",payload:e}}(t))},onSetCurrentItems:function(t){return e({type:"SET_CURRENT_ITEMS",payload:t})}}})(_),D=function(e){var t=e.id,n=e.listId,i=e.checked,o=e.name,r=e.onClick,s=e.onClickDelete,c=e.onKeyPress;return a.a.createElement("li",{className:"truncate noselect"+(i?" checked":""),tabIndex:"0",onKeyUp:c(n,t,i),onClick:r(n,t,i)},o,a.a.createElement("span",{className:"close",title:"Delete item",onClick:s(n,t)},"\xd7"))},S=function(e){var t=e.listId,n=e.newItemName,i=e.onSetNewItemName,o=e.onClickAddItem,r=e.onKeyPressAddItem;return a.a.createElement("div",{className:"mt3"},a.a.createElement("input",{type:"text",value:n,onChange:i,onKeyPress:r(t,n),placeholder:"Add item",className:"pa3 b--none"}),a.a.createElement("button",{type:"button",onClick:o(t,n),className:"white b--none ph4 pv3 b pointer bg-green hover-bg-dark-green"},"Add"))},C=(n(37),function(e){function t(){var e,n;Object(I.a)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).handleDeleteList=function(e){return function(t){window.confirm("Are you sure you want to delete this list?")&&n.props.onDeleteList(e)}},n.onClickDeleteItem=function(e,t){return function(i){i.stopPropagation(),n.handleDeleteItem(e,t)}},n.onClickItem=function(e,t,i){return function(a){n.handleToggleItem(e,t,i)}},n.onKeyPressItem=function(e,t,i){return function(a){"Delete"===a.key?n.handleDeleteItem(e,t):"Enter"===a.key&&n.handleToggleItem(e,t,i)}},n.handleDeleteItem=function(e,t){window.confirm("Are you sure you want to delete this item?")&&(n.props.onDeleteItem(t),n.props.onSetListDate(e))},n.handleToggleItem=function(e,t,i){n.props.onToggleItem(t,i),n.props.onSetListDate(e)},n.onClickAddItem=function(e,t){return function(i){n.handleAddItem(e,t)}},n.onKeyPressAddItem=function(e,t){return function(i){"Enter"===i.key&&n.handleAddItem(e,t)}},n.handleAddItem=function(e,t){b(t)||(n.props.onAddItem(e,t),n.props.onSetListDate(e))},n}return Object(T.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,o=t.items,r=t.newItemName,s=t.onSetNewItemName;return n?a.a.createElement(i.Fragment,null,a.a.createElement("button",{type:"button",onClick:this.handleDeleteList(n.id),className:"white b--none ph4 pv3 b pointer bg-red hover-bg-dark-red"},"Delete"),a.a.createElement("h2",{className:"f2-l f3-m f4 mv4 truncate"},n.title),a.a.createElement("p",null,n.modified.toLocaleDateString()),a.a.createElement("ul",null,o.length>0?o.map(function(t){return a.a.createElement(D,{key:t.id,id:t.id,listId:n.id,checked:t.checked,name:t.name,onClick:e.onClickItem,onClickDelete:e.onClickDeleteItem,onKeyPress:e.onKeyPressItem})}):a.a.createElement("p",null,"No items")),a.a.createElement(S,{listId:n.id,newItemName:r,onSetNewItemName:s,onClickAddItem:this.onClickAddItem,onKeyPressAddItem:this.onKeyPressAddItem})):null}}]),t}(i.Component)),O=Object(s.b)(function(e){return{list:e.listsReducer.currentList,items:e.itemsReducer.currentItems,newItemName:e.itemsReducer.newItemName}},function(e){return{onSetListDate:function(t){return e(function(e){return{type:"SET_LIST_DATE",payload:{listId:e,modified:new Date}}}(t))},onDeleteList:function(t){return e(function(e){return{type:"DELETE_LIST",payload:e}}(t))},onDeleteItem:function(t){return e(function(e){return{type:"DELETE_ITEM",payload:e}}(t))},onToggleItem:function(t,n){return e(function(e,t){return{type:"TOGGLE_ITEM",payload:{itemId:e,checked:t}}}(t,n))},onAddItem:function(t,n){return e(function(e,t){return{type:"ADD_ITEM",payload:{listId:e,name:t}}}(t,n))},onSetNewItemName:function(t){return e({type:"SET_NEW_ITEM_NAME",payload:t.target.value})}}})(C),A=function(e){function t(){var e,n;Object(I.a)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).scrollToCurrentList=function(){window.innerWidth<480&&n.scroll.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},n}return Object(T.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(i.Fragment,null,a.a.createElement(v,null),a.a.createElement(N,{scrollToCurrentList:this.scrollToCurrentList}),a.a.createElement("div",{className:"fl w-75-l w-two-thirds-m w-100 pa3"},a.a.createElement("div",{ref:function(t){return e.scroll=t}}),a.a.createElement(O,null)))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(39);r.a.render(a.a.createElement(s.a,{store:h},a.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.d4a175d1.chunk.js.map